On adapting Galaxy-Cloudman from Amazon AWS to Eucalyptus
=========================================================
While adapting Galaxy-Cloudman for use on the Eucalyptus private cloud, we ran into problems common to migrating between systems that both track an evolving standard; some features of AWS are not implemented in Eucalyptus, and some have differences in implementation. The primary absence was the ability to add arbitrary tags (key-value pairs) to running instances (virtual machines) or volumes (virtual disk drives). The primary difference in functionality is that AWS uses Xen virtualization, while Eucalyptus uses KVM virtualization. This meant that, while AWS can attach a new volume to an instance at an arbitrary device id (e.g. /dev/xvdf), Eucalyptus will always attach at the next available device id (e.g. /dev/vdb), regardless of what id was specified in the attachment request. We were forced to write code to emulate tagging and detect attachment device ids within the Cloudman infrastructure. Fortunately, the Cloudman code was already structured to expect multiple cloud implementations, although there were multiple points which assumed the existence of AWS functionality.